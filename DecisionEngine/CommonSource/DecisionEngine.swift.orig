//
//  DecisionEngine.swift
//  Mimir
//
//  Created by David Taylor on 3/1/18.
//  Copyright Â© 2018 Hyper Elephant. All rights reserved.
//

import Foundation


public class DecisionEngine{
    
    private var user: User
    
    public init(user: User) {
        self.user = user
    }

    public func suggestActivity(freeTime: Double) -> Activity? {
        var possible = [Activity]()
        for activity in self.user.activities{
            let hasTime = activity.duration <= freeTime
            let resultFeel = user.state + activity.impact
<<<<<<< HEAD
            let willImprove = user.state.average() < resultFeel.average()
=======
            let willImprove = user.state.aggregate() <= resultFeel.aggregate()
>>>>>>> 108a7e229189d16e8d429e22d7e934b8599ebadd
            if(hasTime && willImprove)
            {
                possible.append(activity)
            }
        }
        
        return possible.random()
    }
}
